<?xml version="1.0" encoding="utf-8" ?>
<Patch>
    
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Centralized Climate Control</li>
        </mods>
        <match Class="PatchOperationSequence">
            <operations>
                <!-- Standard Shield -->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="Building_ShieldGenerator"]/comps</xpath>
                    <value>
                        <li Class="CentralizedClimateControl.CompProperties_AirFlow">
                            <compClass>CentralizedClimateControl.CompAirFlowConsumer</compClass>
                            <flowType>Any</flowType>
                            <baseAirExhaust>1000</baseAirExhaust>
                        </li>
                    </value>
                </li>
                <li Class="PatchOperationAttributeSet">
                    <xpath>/Defs/ThingDef[defName="Building_ShieldGenerator"]/comps/li[@Class="FrontierDevelopments.General.CompProperties.CompProperties_HeatSink"]</xpath>
                    <attribute>Class</attribute>
                    <value>FrontierDevelopments.General.CompProperties.CompProperties_ClimateControlHeatsink</value>
                </li>
    
                <!-- Large Shield -->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="Building_ShieldGeneratorLarge"]/comps</xpath>
                    <value>
                        <li Class="CentralizedClimateControl.CompProperties_AirFlow">
                            <compClass>CentralizedClimateControl.CompAirFlowConsumer</compClass>
                            <flowType>Any</flowType>
                            <baseAirExhaust>2500</baseAirExhaust>
                        </li>
                    </value>
                </li>
                <li Class="PatchOperationAttributeSet">
                    <xpath>*/ThingDef[defName="Building_ShieldGeneratorLarge"]/comps/li[@Class = "FrontierDevelopments.General.CompProperties.CompProperties_HeatSink"]</xpath>
                    <attribute>Class</attribute>
                    <value>FrontierDevelopments.General.CompProperties.CompProperties_ClimateControlHeatsink</value>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>